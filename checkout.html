<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en-US" lang="en-US">

<head>
    <meta charset="utf-8">
    <title>Ecomus - Checkout</title>
    <meta name="author" content="themesflat.com">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
    <meta name="description"
        content="Ecomus Store Checkout - Secure and private checkout for adult toys and wellness products.">

    <!-- font -->
    <link rel="stylesheet" href="fonts/fonts.css">
    <!-- Icons -->
    <link rel="stylesheet" href="fonts/font-icons.css">
    <link rel="stylesheet" href="css/bootstrap.min.css">
    <link rel="stylesheet" href="css/swiper-bundle.min.css">
    <link rel="stylesheet" href="css/animate.css">
    <link rel="stylesheet" type="text/css" href="css/styles.css" />

    <!-- Favicon and Touch Icons  -->
    <link rel="shortcut icon" href="images/logo/favicon.png">
    <link rel="apple-touch-icon-precomposed" href="images/logo/favicon.png">

    <!-- Bootstrap JS for Modal -->
    <script src="js/bootstrap.min.js"></script>
</head>

<body class="preload-wrapper">

    <div class="preload preload-container">
        <div class="preload-logo">
            <div class="spinner"></div>
        </div>
    </div>

    <div id="wrapper">
        <!-- header -->
        <header id="header" class="header-default">
            <div class="px_15 lg-px_40">
                <div class="row wrapper-header align-items-center">
                    <div class="col-md-4 col-3 tf-lg-hidden">
                        <a href="#mobileMenu" data-bs-toggle="offcanvas" aria-controls="offcanvasLeft">
                            <svg xmlns="http://www.w3.org/2000/svg" width="24" height="16" viewBox="0 0 24 16"
                                fill="none">
                                <path
                                    d="M2.00056 2.28571H16.8577C17.1608 2.28571 17.4515 2.16531 17.6658 1.95098C17.8802 1.73665 18.0006 1.44596 18.0006 1.14286C18.0006 0.839753 17.8802 0.549063 17.6658 0.334735C17.4515 0.120408 17.1608 0 16.8577 0H2.00056C1.69745 0 1.40676 0.120408 1.19244 0.334735C0.978109 0.549063 0.857702 0.839753 0.857702 1.14286C0.857702 1.44596 0.978109 1.73665 1.19244 1.95098C1.40676 2.16531 1.69745 2.28571 2.00056 2.28571ZM0.857702 8C0.857702 7.6969 0.978109 7.40621 1.19244 7.19188C1.40676 6.97755 1.69745 6.85714 2.00056 6.85714H22.572C22.8751 6.85714 23.1658 6.97755 23.3801 7.19188C23.5944 7.40621 23.7148 7.6969 23.7148 8C23.7148 8.30311 23.5944 8.59379 23.3801 8.80812C23.1658 9.02245 22.8751 9.14286 22.572 9.14286H2.00056C1.69745 9.14286 1.40676 9.02245 1.19244 8.80812C0.978109 8.59379 0.857702 8.30311 0.857702 8ZM0.857702 14.8571C0.857702 14.554 0.978109 14.2633 1.19244 14.049C1.40676 13.8347 1.69745 13.7143 2.00056 13.7143H12.2863C12.5894 13.7143 12.8801 13.8347 13.0944 14.049C13.3087 14.2633 13.4291 14.554 13.4291 14.8571C13.4291 15.1602 13.3087 15.4509 13.0944 15.6653C12.8801 15.8796 12.5894 16 12.2863 16H2.00056C1.69745 16 1.40676 15.8796 1.19244 15.6653C0.978109 15.4509 0.857702 15.1602 0.857702 14.8571Z"
                                    fill="currentColor"></path>
                            </svg>
                        </a>
                    </div>
                    <div class="col-xl-3 col-md-4 col-6">
                        <a href="index.html" class="logo-header">
                            <img src="images/logo/logo.svg" alt="logo" class="logo">
                        </a>
                    </div>
                    <div class="col-xl-7 tf-md-hidden">
                        <nav class="box-navigation text-center">
                            <ul class="box-nav-ul d-flex align-items-center justify-content-center gap-30">
                                <li class="menu-item">
                                    <a href="index.html" class="item-link">Home</a>
                                </li>
                                <li class="menu-item">
                                    <a href="MenSexToys.html" class="item-link">Men Sex Toys</a>
                                </li>
                                <li class="menu-item">
                                    <a href="WomenSexToys.html" class="item-link">Women Sex Toys</a>
                                </li>
                                <li class="menu-item">
                                    <a href="Couple.html" class="item-link">Couple & LGBTQ Toys</a>
                                </li>
                                <li class="menu-item">
                                    <a href="shop-infinite-scrolling.html" class="item-link">Products</a>
                                </li>
                                <li class="menu-item">
                                    <a href="contact-1.html" class="item-link">Contact</a>
                                </li>
                            </ul>
                        </nav>
                    </div>
                </div>
            </div>
        </header>

        <!-- page-title -->
        <div class="tf-page-title">
            <div class="container-full">
                <div class="heading text-center">Check Out</div>
            </div>
        </div>

        <!-- page-cart -->
        <section class="flat-spacing-11">
            <div class="container">
                <div class="tf-page-cart-wrap layout-2 d-flex justify-content-center ">
                    <div class="tf-page-cart-item">
                        <!-- Product Summary Box (Dynamically Added) -->
                        <div id="productSummaryBox" class="card mb-4" style="display: none;">
                            <div class="card-body">
                                <h6 class="fw-5 mb-3">üõí Your Order</h6>
                                <p class="mb-2"><strong>Product:</strong> <span id="pTitle"></span></p>
                                <p class="mb-0"><strong>Price:</strong> ‚Çπ<span id="pPrice"></span></p>
                            </div>
                        </div>

                        <h5 class="fw-5 mb_20">Billing details</h5>
                        <form class="form-checkout" id="checkoutForm">
                            <div class="box grid-2">
                                <fieldset class="fieldset">
                                    <label for="first-name">First Name *</label>
                                    <input type="text" id="first-name" placeholder="Your First Name" required>
                                </fieldset>
                                <fieldset class="fieldset">
                                    <label for="last-name">Last Name *</label>
                                    <input type="text" id="last-name" placeholder="Your Last Name" required>
                                </fieldset>
                            </div>

                            <fieldset class="box fieldset">
                                <label for="phone">Phone Number *</label>
                                <input type="tel" id="phone" pattern="[0-9]{10}" placeholder="10-digit mobile number"
                                    required>
                            </fieldset>
                            <fieldset class="box fieldset">
                                <label for="email">Email *</label>
                                <input type="email" id="email" placeholder="your@email.com" required>
                            </fieldset>

                            <fieldset class="box fieldset">
                                <label for="flat">Flat no., Building name *</label>
                                <input type="text" id="flat" placeholder="Flat 101, Building Name" required>
                            </fieldset>
                            <fieldset class="box fieldset">
                                <label for="street">Street, Area, Locality *</label>
                                <input type="text" id="street" placeholder="Street name, Area" required>
                            </fieldset>
                            <fieldset class="box fieldset">
                                <label for="landmark">Landmark (near by any famous shop/temple/bank)</label>
                                <input type="text" id="landmark" placeholder="Near landmark">
                            </fieldset>
                            <fieldset class="box fieldset">
                                <label for="city">Town/City *</label>
                                <input type="text" id="city" placeholder="Your City" required>
                            </fieldset>
                            <fieldset class="box fieldset">
                                <label for="address">Full Address *</label>
                                <input type="text" id="address" placeholder="Complete address for delivery" required>
                            </fieldset>

                            <button type="submit" class="tf-btn radius-3 btn-fill btn-icon animate-hover-btn justify-content-center">
                                Place Order & Pay
                            </button>
                        </form>
                    </div>
                </div>
            </div>
        </section>

        <!-- footer -->
        <footer id="footer" class="footer">
            <div class="footer-wrap">
                <div class="footer-body">
                    <div class="container">
                        <div class="row">
                            <div class="col-xl-3 col-md-6 col-12">
                                <div class="footer-infor">
                                    <div class="footer-logo">
                                        <a href="index.html">
                                            <img src="images/logo/logo.svg" alt="">
                                        </a>
                                    </div>
                                    <ul>
                                        <li>
                                            <p>Address: 1234 Fashion Street, Suite 567, <br> New York, NY 10001</p>
                                        </li>
                                        <li>
                                            <p>Email: <a href="#">info@fashionshop.com</a></p>
                                        </li>
                                        <li>
                                            <p>Phone: <a href="#">(212) 555-1234</a></p>
                                        </li>
                                    </ul>
                                    <a href="contact-1.html" class="tf-btn btn-line">Get direction<i
                                            class="icon icon-arrow1-top-left"></i></a>
                                    <ul class="tf-social-icon d-flex gap-10">
                                        <li><a href="#" class="box-icon w_34 round social-facebook border-line-black"><i
                                                    class="icon fs-14 icon-fb"></i></a></li>
                                        <li><a href="#" class="box-icon w_34 round social-twiter border-line-black"><i
                                                    class="icon fs-12 icon-Icon-x"></i></a></li>
                                        <li><a href="#"
                                                class="box-icon w_34 round social-instagram border-line-black"><i
                                                    class="icon fs-14 icon-instagram"></i></a></li>
                                        <li><a href="#" class="box-icon w_34 round social-tiktok border-line-black"><i
                                                    class="icon fs-14 icon-tiktok"></i></a></li>
                                        <li><a href="#"
                                                class="box-icon w_34 round social-pinterest border-line-black"><i
                                                    class="icon fs-14 icon-pinterest-1"></i></a></li>
                                    </ul>
                                </div>
                            </div>
                            <div class="col-xl-3 col-md-6 col-12 footer-col-block">
                                <div class="footer-heading footer-heading-desktop">
                                    <h6>Help</h6>
                                </div>
                                <div class="footer-heading footer-heading-moblie">
                                    <h6>Help</h6>
                                </div>
                                <ul class="footer-menu-list tf-collapse-content">
                                    <li>
                                        <a href="privacy-policy.html" class="footer-menu_item">Privacy Policy</a>
                                    </li>
                                    <li>
                                        <a href="delivery-return.html" class="footer-menu_item">Returns + Exchanges</a>
                                    </li>
                                    <li>
                                        <a href="shipping-delivery.html" class="footer-menu_item">Shipping</a>
                                    </li>
                                    <li>
                                        <a href="terms-conditions.html" class="footer-menu_item">Terms & Conditions</a>
                                    </li>
                                    <li>
                                        <a href="faq-1.html" class="footer-menu_item">FAQ's</a>
                                    </li>
                                    <li>
                                        <a href="compare.html" class="footer-menu_item">Compare</a>
                                    </li>
                                    <li>
                                        <a href="wishlist.html" class="footer-menu_item">My Wishlist</a>
                                    </li>
                                </ul>
                            </div>
                            <div class="col-xl-3 col-md-6 col-12 footer-col-block">
                                <div class="footer-heading footer-heading-desktop">
                                    <h6>About us</h6>
                                </div>
                                <div class="footer-heading footer-heading-moblie">
                                    <h6>About us</h6>
                                </div>
                               <li>
                                        <a href="privacy-policy.html" class="footer-menu_item">Privacy Policy</a>
                                    </li>
                                    <li>
                                        <a href="delivery-return.html" class="footer-menu_item"> Returns + Exchanges
                                        </a>
                                    </li>
                                    <li>
                                        <a href="shipping-delivery.html" class="footer-menu_item">Shipping</a>
                                    </li>
                                    <li>
                                        <a href="terms-conditions.html" class="footer-menu_item">Terms &amp;
                                            Conditions</a>
                                    </li>
                                    <li>
                                        <a href="faq-1.html" class="footer-menu_item">FAQ‚Äôs</a>
                                    </li>
                                    <li>
                                        <a href="compare.html" class="footer-menu_item">Compare</a>
                                    </li>
                                    <li>
                                        <a href="wishlist.html" class="footer-menu_item">My Wishlist</a>
                                    </li>
                            </div>
                            <div class="col-xl-3 col-md-6 col-12">
                                <div class="footer-newsletter footer-col-block">
                                    <div class="footer-heading footer-heading-desktop">
                                        <h6>Sign Up for Email</h6>
                                    </div>
                                    <div class="footer-heading footer-heading-moblie">
                                        <h6>Sign Up for Email</h6>
                                    </div>
                                    <div class="tf-collapse-content">
                                        <div class="footer-menu_item">Sign up to get first dibs on new arrivals, sales,
                                            exclusive content, events and more!</div>
                                        <form class="form-newsletter" id="subscribe-form" action="#" method="post"
                                            accept-charset="utf-8" data-mailchimp="true">
                                            <div id="subscribe-content">
                                                <fieldset class="email">
                                                    <input type="email" name="email-form" id="subscribe-email"
                                                        placeholder="Enter your email...." tabindex="0"
                                                        aria-required="true">
                                                </fieldset>
                                                <div class="button-submit">
                                                    <button id="subscribe-button"
                                                        class="tf-btn btn-sm radius-3 btn-fill btn-icon animate-hover-btn"
                                                        type="button">Subscribe<i
                                                            class="icon icon-arrow1-top-left"></i></button>
                                                </div>
                                            </div>
                                            <div id="subscribe-msg"></div>
                                        </form>
                                        <div class="tf-cur">
                                            <div class="tf-currencies">
                                                <select class="image-select center style-default type-currencies">
                                                    <option data-thumbnail="images/country/fr.svg">EUR ‚Ç¨ | France
                                                    </option>
                                                    <option data-thumbnail="images/country/de.svg">EUR ‚Ç¨ | Germany
                                                    </option>
                                                    <option selected data-thumbnail="images/country/us.svg">USD $ |
                                                        United States</option>
                                                    <option data-thumbnail="images/country/vn.svg">VND ‚Ç´ | Vietnam
                                                    </option>
                                                </select>
                                            </div>
                                            <div class="tf-languages">
                                                <select class="image-select center style-default type-languages">
                                                    <option>English</option>
                                                    <option>ÿßŸÑÿπÿ±ÿ®Ÿäÿ©</option>
                                                    <option>ÁÆÄ‰Ωì‰∏≠Êñá</option>
                                                    <option>ÿßÿ±ÿØŸà</option>
                                                </select>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="footer-bottom">
                    <div class="container">
                        <div class="row">
                            <div class="col-12">
                                <div
                                    class="footer-bottom-wrap d-flex gap-20 flex-wrap justify-content-between align-items-center">
                                    <div class="footer-menu_item">¬© 2025 Ecomus Store. All Rights Reserved</div>
                                    <div class="tf-payment">
                                        <img src="images/payments/visa.png" alt="">
                                        <img src="images/payments/img-1.png" alt="">
                                        <img src="images/payments/img-2.png" alt="">
                                        <img src="images/payments/img-3.png" alt="">
                                        <img src="images/payments/img-4.png" alt="">
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </footer>

        <!-- Secure Order Popup -->
        <div class="modal fade" id="secureOrderModal" tabindex="-1" aria-hidden="true">
            <div class="modal-dialog modal-dialog-centered">
                <div class="modal-content">
                    <div class="modal-header">
                        <h6 class="modal-title">üîê Your Order is 100% Secure & Discreet</h6>
                        <button type="button" class="btn-close" data-bs-dismiss="modal"></button>
                    </div>
                    <div class="modal-body">
                        <p><strong>Yes ‚Äî Your Shipping Details & Order Information Is 100% Secure.</strong></p>
                        <ul style="padding-left:18px;">
                            <li>üì¨ <strong>Private Shipping Details</strong> ‚Äì Address confidential ‡§∞‡§π‡§§‡§æ ‡§π‡•à</li>
                            <li>üîí <strong>Secure Checkout</strong> ‚Äì 256-bit SSL encryption</li>
                            <li>üì¶ <strong>Discreet Packaging</strong> ‚Äì No product name or logo</li>
                            <li>üßæ <strong>Private Billing</strong> ‚Äì Generic name on bank statement</li>
                            <li>üí≥ <strong>UPI / Card / Net Banking</strong> ‚Äì Safe payment options</li>
                        </ul>
                    </div>
                    <div class="modal-footer">
                        <button type="button" class="tf-btn btn-fill" data-bs-dismiss="modal">
                            Continue to Order Details
                        </button>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Javascript -->
    <script src="js/jquery.min.js"></script>
    <script src="js/swiper-bundle.min.js"></script>
    <script src="js/carousel.js"></script>
    <script src="js/bootstrap-select.min.js"></script>
    <script src="js/lazysize.min.js"></script>
    <script src="js/count-down.js"></script>
    <script src="js/wow.min.js"></script>
    <script src="js/multiple-modal.js"></script>
    <script src="js/main.js"></script>

    <!-- Razorpay Script -->
    <script src="https://checkout.razorpay.com/v1/checkout.js"></script>

    <script>
        document.addEventListener("DOMContentLoaded", function () {
            // Show Secure Order Modal
            var secureModal = new bootstrap.Modal(document.getElementById('secureOrderModal'));
            secureModal.show();

            /* ============================
               LOAD PRODUCT DATA FROM LOCALSTORAGE
            ============================ */
            const productTitle = localStorage.getItem("product_title");
            const productPrice = localStorage.getItem("product_price");

            console.log("üõí Checkout Product Loaded:");
            console.log("Title:", productTitle);
            console.log("Price:", productPrice);

            // If no product data, redirect to shop
            if (!productTitle || !productPrice) {
                console.error("‚ùå No product data found in localStorage");
                alert("Please select a product first!");
                window.location.href = "shop-infinite-scrolling.html";
                return;
            }

            // Show product summary box
            const productSummaryBox = document.getElementById('productSummaryBox');
            document.getElementById('pTitle').textContent = productTitle;
            document.getElementById('pPrice').textContent = productPrice;
            productSummaryBox.style.display = 'block';

            /* ============================
               CHECKOUT FORM SUBMIT HANDLER
            ============================ */
            document.getElementById('checkoutForm').addEventListener('submit', function (e) {
                e.preventDefault();

                // Get form values
                const firstName = document.getElementById('first-name').value;
                const lastName = document.getElementById('last-name').value;
                const phone = document.getElementById('phone').value;
                const email = document.getElementById('email').value;
                const flat = document.getElementById('flat').value;
                const street = document.getElementById('street').value;
                const landmark = document.getElementById('landmark').value;
                const city = document.getElementById('city').value;
                const address = document.getElementById('address').value;

                // Validation
                if (!firstName || !lastName || !phone || !email || !flat || !street || !city || !address) {
                    alert("‚ö†Ô∏è Please fill all required fields marked with *");
                    return;
                }

                if (phone.length !== 10 || !/^\d+$/.test(phone)) {
                    alert("‚ö†Ô∏è Please enter a valid 10-digit phone number");
                    return;
                }

                // Prepare checkout data
                const checkoutData = {
                    firstName: firstName,
                    lastName: lastName,
                    phone: phone,
                    email: email,
                    flat: flat,
                    street: street,
                    landmark: landmark,
                    city: city,
                    address: address,
                    productTitle: productTitle,
                    productPrice: parseFloat(productPrice)
                };

                console.log("üßæ Checkout Details:");
                console.table(checkoutData);

                // Start Razorpay payment
                startRazorpayPayment(checkoutData);
            });

            /* ============================
               RAZORPAY PAYMENT FUNCTION
            ============================ */
            function startRazorpayPayment(userData) {
                // Calculate amount in paise
                const amountInPaise = Math.round(userData.productPrice * 100);

                // Full address
                const fullAddress = `${userData.flat}, ${userData.street}, ${userData.city}. ${userData.landmark ? 'Landmark: ' + userData.landmark + '. ' : ''}${userData.address}`;

                // Razorpay options
                const options = {
                    key: "rzp_live_S2GKxpx14T3Z6g", // Your Razorpay Live Key
                    amount: amountInPaise,
                    currency: "INR",
                    name: "Ecomus Store",
                    description: userData.productTitle,
                    image: "images/logo/logo.svg", // Optional: Add your logo
                    
                    // Payment methods
                    handler: function (response) {
                        console.log("‚úÖ PAYMENT SUCCESS");
                        console.log("Payment ID:", response.razorpay_payment_id);
                        console.log("Order ID:", response.razorpay_order_id);
                        console.log("Signature:", response.razorpay_signature);
                        
                        // Show success message
                        alert(`üéâ Payment Successful!\n\nOrder Details:\nProduct: ${userData.productTitle}\nAmount: ‚Çπ${userData.productPrice}\nPayment ID: ${response.razorpay_payment_id}\n\nThank you for your order!`);
                        
                        // Clear localStorage after successful payment
                        localStorage.removeItem("product_title");
                        localStorage.removeItem("product_price");
                        
                        // Optional: Redirect to thank you page
                        // window.location.href = "thank-you.html?payment_id=" + response.razorpay_payment_id;
                    },
                    
                    // Prefill user details
                    prefill: {
                        name: `${userData.firstName} ${userData.lastName}`,
                        email: userData.email,
                        contact: userData.phone
                    },
                    
                    // Notes for order
                    notes: {
                        product: userData.productTitle,
                        price: `‚Çπ${userData.productPrice}`,
                        customer_name: `${userData.firstName} ${userData.lastName}`,
                        phone: userData.phone,
                        address: fullAddress,
                        city: userData.city
                    },
                    
                    // Theme
                    theme: {
                        color: "#0d6efd"
                    },
                    
                    // Modal settings
                    modal: {
                        ondismiss: function () {
                            console.log("‚ùå Payment cancelled by user");
                            alert("Payment was cancelled. You can try again.");
                        }
                    }
                };

                // Payment failed handler
                options.modal.ondismiss = function() {
                    console.log("Payment modal closed");
                };

                // Create Razorpay instance
                const rzp = new Razorpay(options);
                
                // Handle payment failure
                rzp.on('payment.failed', function (response) {
                    console.log("‚ùå Payment Failed:", response.error);
                    alert(`Payment failed: ${response.error.description}\nPlease try again or contact support.`);
                });
                
                // Open payment modal
                rzp.open();
            }

            // Test mode check
            const razorpayKey = "rzp_live_S2GKxpx14T3Z6g";
            if (razorpayKey.includes("test")) {
                console.log("‚ö†Ô∏è Using Razorpay TEST Mode");
                document.querySelector('.tf-btn').innerHTML += ' (Test Mode)';
            } else {
                console.log("‚úÖ Using Razorpay LIVE Mode");
            }

            console.log("‚úÖ Checkout page loaded successfully!");
        });

        // Show modal on page load
        window.addEventListener('load', function () {
            // Modal already shown in DOMContentLoaded
            console.log("Secure Order Modal displayed");
        });
    </script>

</body>

</html>